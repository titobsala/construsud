{"ast":null,"code":"import React,{useState}from'react';import{useBudget}from'../../context/BudgetContext';import ItemList from'./ItemList';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ChapterItem=_ref=>{let{chapterKey,chapter}=_ref;const{activeChapter,setActiveChapter,calculateChapterTotal,formatCurrency,setShowEditItemModal,setCurrentItem}=useBudget();const isActive=activeChapter===chapterKey;const total=calculateChapterTotal(chapterKey);const handleAddItem=()=>{setCurrentItem({chapterKey,item:{MATERIAL:'',UNIDADE:'',QTD:0,VALOR_UNITARIO:0,VALOR:0},isNew:true});setShowEditItemModal(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"chapter-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`chapter-header ${isActive?'active':''}`,onClick:()=>setActiveChapter(chapterKey),children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold\",children:[chapterKey,\": \",chapter.header]}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(total)})]}),isActive&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3\",children:[/*#__PURE__*/_jsx(ItemList,{chapterKey:chapterKey,items:chapter.items}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 p-2 border border-dashed border-gray-300 rounded text-center text-indigo-500 cursor-pointer hover:bg-gray-50\",onClick:handleAddItem,children:\"+ Adicionar item\"})]})]});};export default ChapterItem;","map":{"version":3,"names":["React","useState","useBudget","ItemList","jsxs","_jsxs","jsx","_jsx","ChapterItem","_ref","chapterKey","chapter","activeChapter","setActiveChapter","calculateChapterTotal","formatCurrency","setShowEditItemModal","setCurrentItem","isActive","total","handleAddItem","item","MATERIAL","UNIDADE","QTD","VALOR_UNITARIO","VALOR","isNew","className","children","onClick","header","items"],"sources":["/mnt/c/Users/titob/OneDrive - Ensino LusÃ³fona/EXO/repo-tito/construsud/orcaworks/src/components/budget/ChapterItem.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useBudget } from '../../context/BudgetContext';\nimport ItemList from './ItemList';\n\nconst ChapterItem = ({ chapterKey, chapter }) => {\n  const { \n    activeChapter, \n    setActiveChapter, \n    calculateChapterTotal,\n    formatCurrency,\n    setShowEditItemModal,\n    setCurrentItem\n  } = useBudget();\n  \n  const isActive = activeChapter === chapterKey;\n  const total = calculateChapterTotal(chapterKey);\n  \n  const handleAddItem = () => {\n    setCurrentItem({\n      chapterKey,\n      item: {\n        MATERIAL: '',\n        UNIDADE: '',\n        QTD: 0,\n        VALOR_UNITARIO: 0,\n        VALOR: 0\n      },\n      isNew: true\n    });\n    setShowEditItemModal(true);\n  };\n\n  return (\n    <div className=\"chapter-item\">\n      <div \n        className={`chapter-header ${isActive ? 'active' : ''}`}\n        onClick={() => setActiveChapter(chapterKey)}\n      >\n        <h3 className=\"font-semibold\">{chapterKey}: {chapter.header}</h3>\n        <span className=\"font-medium\">{formatCurrency(total)}</span>\n      </div>\n      \n      {isActive && (\n        <div className=\"bg-white p-3\">\n          <ItemList \n            chapterKey={chapterKey} \n            items={chapter.items} \n          />\n          \n          <div \n            className=\"mt-2 p-2 border border-dashed border-gray-300 rounded text-center text-indigo-500 cursor-pointer hover:bg-gray-50\"\n            onClick={handleAddItem}\n          >\n            + Adicionar item\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChapterItem;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,SAAS,KAAQ,6BAA6B,CACvD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAElC,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAA6B,IAA5B,CAAEC,UAAU,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CAC1C,KAAM,CACJG,aAAa,CACbC,gBAAgB,CAChBC,qBAAqB,CACrBC,cAAc,CACdC,oBAAoB,CACpBC,cACF,CAAC,CAAGf,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAgB,QAAQ,CAAGN,aAAa,GAAKF,UAAU,CAC7C,KAAM,CAAAS,KAAK,CAAGL,qBAAqB,CAACJ,UAAU,CAAC,CAE/C,KAAM,CAAAU,aAAa,CAAGA,CAAA,GAAM,CAC1BH,cAAc,CAAC,CACbP,UAAU,CACVW,IAAI,CAAE,CACJC,QAAQ,CAAE,EAAE,CACZC,OAAO,CAAE,EAAE,CACXC,GAAG,CAAE,CAAC,CACNC,cAAc,CAAE,CAAC,CACjBC,KAAK,CAAE,CACT,CAAC,CACDC,KAAK,CAAE,IACT,CAAC,CAAC,CACFX,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAAC,CAED,mBACEX,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BxB,KAAA,QACEuB,SAAS,CAAE,kBAAkBV,QAAQ,CAAG,QAAQ,CAAG,EAAE,EAAG,CACxDY,OAAO,CAAEA,CAAA,GAAMjB,gBAAgB,CAACH,UAAU,CAAE,CAAAmB,QAAA,eAE5CxB,KAAA,OAAIuB,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAEnB,UAAU,CAAC,IAAE,CAACC,OAAO,CAACoB,MAAM,EAAK,CAAC,cACjExB,IAAA,SAAMqB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEd,cAAc,CAACI,KAAK,CAAC,CAAO,CAAC,EACzD,CAAC,CAELD,QAAQ,eACPb,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtB,IAAA,CAACJ,QAAQ,EACPO,UAAU,CAAEA,UAAW,CACvBsB,KAAK,CAAErB,OAAO,CAACqB,KAAM,CACtB,CAAC,cAEFzB,IAAA,QACEqB,SAAS,CAAC,mHAAmH,CAC7HE,OAAO,CAAEV,aAAc,CAAAS,QAAA,CACxB,kBAED,CAAK,CAAC,EACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAArB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}