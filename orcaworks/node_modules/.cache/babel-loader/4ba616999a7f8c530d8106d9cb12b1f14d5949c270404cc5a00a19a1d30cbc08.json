{"ast":null,"code":"import React,{useState}from'react';import Header from'./components/layout/Header';import ProjectSidebar from'./components/layout/ProjectSidebar';import Tabs from'./components/layout/Tabs';import ChapterList from'./components/budget/ChapterList';import InternalControl from'./components/budget/InternalControl';import EditItemModal from'./components/modals/EditItemModal';import NewChapterModal from'./components/modals/NewChapterModal';import NewProjectModal from'./components/modals/NewProjectModal';import AuthForm from'./components/auth/AuthForm';import{useBudget}from'./context/BudgetContext';import{useAuth}from'./context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{showEditItemModal,showNewChapterModal,addProject,setActiveProjectById,loading:budgetLoading}=useBudget();const{user,loading:authLoading,signOut}=useAuth();const[sidebarOpen,setSidebarOpen]=useState(true);const[showNewProjectModal,setShowNewProjectModal]=useState(false);const handleNewProject=async projectData=>{console.log('New project data:',projectData);const newProjectId=await addProject(projectData);if(newProjectId){await setActiveProjectById(newProjectId);setShowNewProjectModal(false);}};const handleSignOut=async()=>{await signOut();};// Show loading indicator while authentication state is being determined\nif(authLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-700 dark:text-gray-300\",children:\"Loading...\"})]})});}// If no user is authenticated, show the auth form\nif(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-4\",children:/*#__PURE__*/_jsx(AuthForm,{})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-screen bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200\",children:[/*#__PURE__*/_jsx(Header,{toggleSidebar:()=>setSidebarOpen(!sidebarOpen),onSignOut:handleSignOut,userEmail:user.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 overflow-hidden\",children:[/*#__PURE__*/_jsx(ProjectSidebar,{isOpen:sidebarOpen,onNewProject:()=>setShowNewProjectModal(true)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col\",children:[/*#__PURE__*/_jsx(Tabs,{}),budgetLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-700 dark:text-gray-300\",children:\"Loading project data...\"})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col md:flex-row overflow-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-3/5 overflow-auto p-6\",children:/*#__PURE__*/_jsx(ChapterList,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-2/5 overflow-auto p-6 border-t md:border-t-0 md:border-l border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsx(InternalControl,{})})]})]})]}),showEditItemModal&&/*#__PURE__*/_jsx(EditItemModal,{}),showNewChapterModal&&/*#__PURE__*/_jsx(NewChapterModal,{}),/*#__PURE__*/_jsx(NewProjectModal,{isOpen:showNewProjectModal,onClose:()=>setShowNewProjectModal(false),onSave:handleNewProject})]});}export default App;","map":{"version":3,"names":["React","useState","Header","ProjectSidebar","Tabs","ChapterList","InternalControl","EditItemModal","NewChapterModal","NewProjectModal","AuthForm","useBudget","useAuth","jsx","_jsx","jsxs","_jsxs","App","showEditItemModal","showNewChapterModal","addProject","setActiveProjectById","loading","budgetLoading","user","authLoading","signOut","sidebarOpen","setSidebarOpen","showNewProjectModal","setShowNewProjectModal","handleNewProject","projectData","console","log","newProjectId","handleSignOut","className","children","toggleSidebar","onSignOut","userEmail","email","isOpen","onNewProject","onClose","onSave"],"sources":["/mnt/c/Users/titob/OneDrive - Ensino LusÃ³fona/EXO/repo-tito/construsud/orcaworks/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Header from './components/layout/Header';\nimport ProjectSidebar from './components/layout/ProjectSidebar';\nimport Tabs from './components/layout/Tabs';\nimport ChapterList from './components/budget/ChapterList';\nimport InternalControl from './components/budget/InternalControl';\nimport EditItemModal from './components/modals/EditItemModal';\nimport NewChapterModal from './components/modals/NewChapterModal';\nimport NewProjectModal from './components/modals/NewProjectModal';\nimport AuthForm from './components/auth/AuthForm';\nimport { useBudget } from './context/BudgetContext';\nimport { useAuth } from './context/AuthContext';\n\nfunction App() {\n  const { \n    showEditItemModal, \n    showNewChapterModal,\n    addProject,\n    setActiveProjectById,\n    loading: budgetLoading\n  } = useBudget();\n  \n  const { user, loading: authLoading, signOut } = useAuth();\n  \n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [showNewProjectModal, setShowNewProjectModal] = useState(false);\n  \n  const handleNewProject = async (projectData) => {\n    console.log('New project data:', projectData);\n    const newProjectId = await addProject(projectData);\n    if (newProjectId) {\n      await setActiveProjectById(newProjectId);\n      setShowNewProjectModal(false);\n    }\n  };\n\n  const handleSignOut = async () => {\n    await signOut();\n  };\n  \n  // Show loading indicator while authentication state is being determined\n  if (authLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-700 dark:text-gray-300\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n  \n  // If no user is authenticated, show the auth form\n  if (!user) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-4\">\n        <AuthForm />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200\">\n      <Header \n        toggleSidebar={() => setSidebarOpen(!sidebarOpen)} \n        onSignOut={handleSignOut}\n        userEmail={user.email}\n      />\n      \n      <div className=\"flex flex-1 overflow-hidden\">\n        <ProjectSidebar \n          isOpen={sidebarOpen} \n          onNewProject={() => setShowNewProjectModal(true)}\n        />\n        \n        <div className=\"flex-1 flex flex-col\">\n          <Tabs />\n          \n          {budgetLoading ? (\n            <div className=\"flex-1 flex items-center justify-center\">\n              <div className=\"text-center\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto\"></div>\n                <p className=\"mt-4 text-gray-700 dark:text-gray-300\">Loading project data...</p>\n              </div>\n            </div>\n          ) : (\n            <div className=\"flex-1 flex flex-col md:flex-row overflow-auto\">\n              <div className=\"w-full md:w-3/5 overflow-auto p-6\">\n                <ChapterList />\n              </div>\n              \n              <div className=\"w-full md:w-2/5 overflow-auto p-6 border-t md:border-t-0 md:border-l border-gray-200 dark:border-gray-700\">\n                <InternalControl />\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showEditItemModal && <EditItemModal />}\n      {showNewChapterModal && <NewChapterModal />}\n      <NewProjectModal \n        isOpen={showNewProjectModal} \n        onClose={() => setShowNewProjectModal(false)}\n        onSave={handleNewProject}\n      />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}