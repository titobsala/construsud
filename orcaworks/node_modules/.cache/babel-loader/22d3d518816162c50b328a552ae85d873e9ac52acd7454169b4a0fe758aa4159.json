{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/titob/OneDrive - Ensino Lus\\xF3fona/EXO/repo-tito/construsud/orcaworks/src/context/BudgetContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useEffect } from 'react';\nimport initialBudget from '../data/initialBudget';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetContext = /*#__PURE__*/createContext();\nexport const useBudget = () => {\n  _s();\n  return useContext(BudgetContext);\n};\n_s(useBudget, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const BudgetProvider = ({\n  children\n}) => {\n  _s2();\n  const [projects, setProjects] = useState([{\n    id: 'PROJ-001',\n    name: 'Moradia S. Pedro Estoril',\n    client: 'Cliente Exemplo',\n    active: true,\n    budget: initialBudget\n  }]);\n  const [activeProject, setActiveProject] = useState('PROJ-001');\n  const [budget, setBudget] = useState(initialBudget);\n  const [activeChapter, setActiveChapter] = useState('CAR 1');\n  const [showEditItemModal, setShowEditItemModal] = useState(false);\n  const [showNewChapterModal, setShowNewChapterModal] = useState(false);\n  const [currentItem, setCurrentItem] = useState(null);\n\n  // Recalculate all values when budget changes\n  useEffect(() => {\n    recalculateBudget();\n  }, []);\n\n  // Calculate item value\n  const calculateItemValue = (qty, unitPrice) => {\n    return Number((qty * unitPrice).toFixed(2));\n  };\n\n  // Calculate chapter total\n  const calculateChapterTotal = chapterKey => {\n    var _budget$chapters$chap;\n    if (!((_budget$chapters$chap = budget.chapters[chapterKey]) !== null && _budget$chapters$chap !== void 0 && _budget$chapters$chap.items)) return 0;\n    return budget.chapters[chapterKey].items.reduce((sum, item) => sum + item.VALOR, 0);\n  };\n\n  // Calculate total material costs\n  const calculateTotalMaterialCost = () => {\n    return Object.keys(budget.chapters).reduce((sum, chapterKey) => sum + calculateChapterTotal(chapterKey), 0);\n  };\n\n  // Recalculate all budget values\n  const recalculateBudget = () => {\n    // Recalculate each item value\n    const updatedChapters = {\n      ...budget.chapters\n    };\n    Object.keys(updatedChapters).forEach(chapterKey => {\n      updatedChapters[chapterKey].items = updatedChapters[chapterKey].items.map(item => ({\n        ...item,\n        VALOR: calculateItemValue(item.QTD, item.VALOR_UNITARIO)\n      }));\n    });\n\n    // Recalculate total costs\n    const custoSeco = calculateTotalMaterialCost();\n\n    // Calculate additional costs\n    const diversos = budget.CONTROLE_INTERNO.DIVERSOS.items[0];\n    const diversosTotal = diversos.Alimentacao_Euro + diversos.Passagens_Euro + diversos.Outros_Euro;\n    const subEmpreiteirosTotal = budget.CONTROLE_INTERNO.SUB_EMPREITEIROS.items[0].Total_Euro;\n    const amortizacoesTotal = budget.CONTROLE_INTERNO.AMORTIZACOES.items.reduce((sum, item) => sum + item.Total_Euro, 0);\n\n    // Calculate total cost\n    const custoTotal = custoSeco + diversosTotal + subEmpreiteirosTotal + amortizacoesTotal;\n\n    // Calculate margin and sale value\n    const margemPercentual = budget.CONTROLE_INTERNO.VENDA.items[0].Margem_Percentual;\n    const vendaEuro = custoTotal / (1 - margemPercentual / 100);\n    const margemEuro = vendaEuro - custoTotal;\n\n    // Update internal control values\n    const updatedControleInterno = {\n      ...budget.CONTROLE_INTERNO\n    };\n    updatedControleInterno.VENDA.items[0] = {\n      ...updatedControleInterno.VENDA.items[0],\n      Custo_Seco_Euro: Number(custoSeco.toFixed(2)),\n      Custo_Total_Euro: Number(custoTotal.toFixed(2)),\n      Venda_Euro: Number(vendaEuro.toFixed(2)),\n      Margem_Euro: Number(margemEuro.toFixed(2))\n    };\n\n    // Update budget state\n    setBudget({\n      ...budget,\n      chapters: updatedChapters,\n      CONTROLE_INTERNO: updatedControleInterno\n    });\n  };\n\n  // Add new item to chapter\n  const addItem = (chapterKey, newItem) => {\n    const chapter = budget.chapters[chapterKey];\n    const updatedItems = [...chapter.items, {\n      ...newItem,\n      id: `${chapterKey.split(' ')[1]}-${chapter.items.length + 1}`,\n      VALOR: calculateItemValue(newItem.QTD, newItem.VALOR_UNITARIO)\n    }];\n    const updatedChapters = {\n      ...budget.chapters,\n      [chapterKey]: {\n        ...chapter,\n        items: updatedItems\n      }\n    };\n    setBudget({\n      ...budget,\n      chapters: updatedChapters\n    });\n    recalculateBudget();\n  };\n\n  // Update existing item\n  const updateItem = (chapterKey, itemId, updatedItem) => {\n    const chapter = budget.chapters[chapterKey];\n    const itemIndex = chapter.items.findIndex(item => item.id === itemId);\n    if (itemIndex === -1) return;\n    const updatedItems = [...chapter.items];\n    updatedItems[itemIndex] = {\n      ...updatedItems[itemIndex],\n      ...updatedItem,\n      VALOR: calculateItemValue(updatedItem.QTD, updatedItem.VALOR_UNITARIO)\n    };\n    const updatedChapters = {\n      ...budget.chapters,\n      [chapterKey]: {\n        ...chapter,\n        items: updatedItems\n      }\n    };\n    setBudget({\n      ...budget,\n      chapters: updatedChapters\n    });\n    recalculateBudget();\n  };\n\n  // Delete item\n  const deleteItem = (chapterKey, itemId) => {\n    const chapter = budget.chapters[chapterKey];\n    const updatedItems = chapter.items.filter(item => item.id !== itemId);\n    const updatedChapters = {\n      ...budget.chapters,\n      [chapterKey]: {\n        ...chapter,\n        items: updatedItems\n      }\n    };\n    setBudget({\n      ...budget,\n      chapters: updatedChapters\n    });\n    recalculateBudget();\n  };\n\n  // Add new chapter\n  const addChapter = (chapterKey, header) => {\n    if (budget.chapters[chapterKey]) return false; // Chapter already exists\n\n    const updatedChapters = {\n      ...budget.chapters,\n      [chapterKey]: {\n        header,\n        items: []\n      }\n    };\n    setBudget({\n      ...budget,\n      chapters: updatedChapters\n    });\n    return true;\n  };\n\n  // Update margin percentage\n  const updateMarginPercentage = percentage => {\n    const updatedControleInterno = {\n      ...budget.CONTROLE_INTERNO\n    };\n    updatedControleInterno.VENDA.items[0].Margem_Percentual = percentage;\n    setBudget({\n      ...budget,\n      CONTROLE_INTERNO: updatedControleInterno\n    });\n    recalculateBudget();\n  };\n\n  // Update diverse costs\n  const updateDiverseCosts = diverseCosts => {\n    const updatedControleInterno = {\n      ...budget.CONTROLE_INTERNO\n    };\n    updatedControleInterno.DIVERSOS.items[0] = {\n      ...updatedControleInterno.DIVERSOS.items[0],\n      ...diverseCosts\n    };\n    setBudget({\n      ...budget,\n      CONTROLE_INTERNO: updatedControleInterno\n    });\n    recalculateBudget();\n  };\n\n  // Format currency\n  const formatCurrency = value => {\n    return new Intl.NumberFormat('pt-PT', {\n      style: 'currency',\n      currency: 'EUR',\n      minimumFractionDigits: 2\n    }).format(value);\n  };\n\n  // Add new project\n  const addProject = projectData => {\n    const projectId = `PROJ-${String(projects.length + 1).padStart(3, '0')}`;\n    const newProject = {\n      id: projectId,\n      name: projectData.name,\n      client: projectData.client,\n      description: projectData.description,\n      type: projectData.type,\n      startDate: projectData.startDate,\n      currency: projectData.currency,\n      active: false,\n      budget: JSON.parse(JSON.stringify(initialBudget)) // Deep copy\n    };\n\n    // Update all projects (set previous active to false)\n    const updatedProjects = projects.map(project => ({\n      ...project,\n      active: false\n    }));\n    setProjects([...updatedProjects, newProject]);\n    return projectId;\n  };\n\n  // Set active project\n  const setActiveProjectById = projectId => {\n    setActiveProject(projectId);\n\n    // Update projects active state\n    const updatedProjects = projects.map(project => ({\n      ...project,\n      active: project.id === projectId\n    }));\n    setProjects(updatedProjects);\n\n    // Set the active project's budget\n    const activeProjectData = projects.find(project => project.id === projectId);\n    if (activeProjectData) {\n      setBudget(activeProjectData.budget);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(BudgetContext.Provider, {\n    value: {\n      // Budget data and operations\n      budget,\n      activeChapter,\n      setActiveChapter,\n      showEditItemModal,\n      setShowEditItemModal,\n      showNewChapterModal,\n      setShowNewChapterModal,\n      currentItem,\n      setCurrentItem,\n      addItem,\n      updateItem,\n      deleteItem,\n      addChapter,\n      calculateChapterTotal,\n      calculateTotalMaterialCost,\n      updateMarginPercentage,\n      updateDiverseCosts,\n      formatCurrency,\n      recalculateBudget,\n      // Project management\n      projects,\n      activeProject,\n      addProject,\n      setActiveProjectById\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 5\n  }, this);\n};\n_s2(BudgetProvider, \"4YFrAh2TZa06NnY828XBX0C5cf8=\");\n_c = BudgetProvider;\nexport default BudgetContext;\nvar _c;\n$RefreshReg$(_c, \"BudgetProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","initialBudget","jsxDEV","_jsxDEV","BudgetContext","useBudget","_s","BudgetProvider","children","_s2","projects","setProjects","id","name","client","active","budget","activeProject","setActiveProject","setBudget","activeChapter","setActiveChapter","showEditItemModal","setShowEditItemModal","showNewChapterModal","setShowNewChapterModal","currentItem","setCurrentItem","recalculateBudget","calculateItemValue","qty","unitPrice","Number","toFixed","calculateChapterTotal","chapterKey","_budget$chapters$chap","chapters","items","reduce","sum","item","VALOR","calculateTotalMaterialCost","Object","keys","updatedChapters","forEach","map","QTD","VALOR_UNITARIO","custoSeco","diversos","CONTROLE_INTERNO","DIVERSOS","diversosTotal","Alimentacao_Euro","Passagens_Euro","Outros_Euro","subEmpreiteirosTotal","SUB_EMPREITEIROS","Total_Euro","amortizacoesTotal","AMORTIZACOES","custoTotal","margemPercentual","VENDA","Margem_Percentual","vendaEuro","margemEuro","updatedControleInterno","Custo_Seco_Euro","Custo_Total_Euro","Venda_Euro","Margem_Euro","addItem","newItem","chapter","updatedItems","split","length","updateItem","itemId","updatedItem","itemIndex","findIndex","deleteItem","filter","addChapter","header","updateMarginPercentage","percentage","updateDiverseCosts","diverseCosts","formatCurrency","value","Intl","NumberFormat","style","currency","minimumFractionDigits","format","addProject","projectData","projectId","String","padStart","newProject","description","type","startDate","JSON","parse","stringify","updatedProjects","project","setActiveProjectById","activeProjectData","find","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/mnt/c/Users/titob/OneDrive - Ensino Lusófona/EXO/repo-tito/construsud/orcaworks/src/context/BudgetContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\nimport initialBudget from '../data/initialBudget';\n\nconst BudgetContext = createContext();\n\nexport const useBudget = () => useContext(BudgetContext);\n\nexport const BudgetProvider = ({ children }) => {\n  const [projects, setProjects] = useState([\n    { \n      id: 'PROJ-001', \n      name: 'Moradia S. Pedro Estoril', \n      client: 'Cliente Exemplo', \n      active: true,\n      budget: initialBudget\n    }\n  ]);\n  const [activeProject, setActiveProject] = useState('PROJ-001');\n  const [budget, setBudget] = useState(initialBudget);\n  const [activeChapter, setActiveChapter] = useState('CAR 1');\n  const [showEditItemModal, setShowEditItemModal] = useState(false);\n  const [showNewChapterModal, setShowNewChapterModal] = useState(false);\n  const [currentItem, setCurrentItem] = useState(null);\n  \n  // Recalculate all values when budget changes\n  useEffect(() => {\n    recalculateBudget();\n  }, []);\n\n  // Calculate item value\n  const calculateItemValue = (qty, unitPrice) => {\n    return Number((qty * unitPrice).toFixed(2));\n  };\n\n  // Calculate chapter total\n  const calculateChapterTotal = (chapterKey) => {\n    if (!budget.chapters[chapterKey]?.items) return 0;\n    return budget.chapters[chapterKey].items.reduce(\n      (sum, item) => sum + item.VALOR,\n      0\n    );\n  };\n\n  // Calculate total material costs\n  const calculateTotalMaterialCost = () => {\n    return Object.keys(budget.chapters).reduce(\n      (sum, chapterKey) => sum + calculateChapterTotal(chapterKey),\n      0\n    );\n  };\n\n  // Recalculate all budget values\n  const recalculateBudget = () => {\n    // Recalculate each item value\n    const updatedChapters = { ...budget.chapters };\n    \n    Object.keys(updatedChapters).forEach(chapterKey => {\n      updatedChapters[chapterKey].items = updatedChapters[chapterKey].items.map(item => ({\n        ...item,\n        VALOR: calculateItemValue(item.QTD, item.VALOR_UNITARIO)\n      }));\n    });\n    \n    // Recalculate total costs\n    const custoSeco = calculateTotalMaterialCost();\n    \n    // Calculate additional costs\n    const diversos = budget.CONTROLE_INTERNO.DIVERSOS.items[0];\n    const diversosTotal = \n      diversos.Alimentacao_Euro + \n      diversos.Passagens_Euro + \n      diversos.Outros_Euro;\n    \n    const subEmpreiteirosTotal = budget.CONTROLE_INTERNO.SUB_EMPREITEIROS.items[0].Total_Euro;\n    \n    const amortizacoesTotal = budget.CONTROLE_INTERNO.AMORTIZACOES.items.reduce(\n      (sum, item) => sum + item.Total_Euro, \n      0\n    );\n    \n    // Calculate total cost\n    const custoTotal = custoSeco + diversosTotal + subEmpreiteirosTotal + amortizacoesTotal;\n    \n    // Calculate margin and sale value\n    const margemPercentual = budget.CONTROLE_INTERNO.VENDA.items[0].Margem_Percentual;\n    const vendaEuro = custoTotal / (1 - (margemPercentual / 100));\n    const margemEuro = vendaEuro - custoTotal;\n    \n    // Update internal control values\n    const updatedControleInterno = { ...budget.CONTROLE_INTERNO };\n    updatedControleInterno.VENDA.items[0] = {\n      ...updatedControleInterno.VENDA.items[0],\n      Custo_Seco_Euro: Number(custoSeco.toFixed(2)),\n      Custo_Total_Euro: Number(custoTotal.toFixed(2)),\n      Venda_Euro: Number(vendaEuro.toFixed(2)),\n      Margem_Euro: Number(margemEuro.toFixed(2))\n    };\n    \n    // Update budget state\n    setBudget({\n      ...budget,\n      chapters: updatedChapters,\n      CONTROLE_INTERNO: updatedControleInterno\n    });\n  };\n\n  // Add new item to chapter\n  const addItem = (chapterKey, newItem) => {\n    const chapter = budget.chapters[chapterKey];\n    const updatedItems = [...chapter.items, {\n      ...newItem,\n      id: `${chapterKey.split(' ')[1]}-${chapter.items.length + 1}`,\n      VALOR: calculateItemValue(newItem.QTD, newItem.VALOR_UNITARIO)\n    }];\n    \n    const updatedChapters = {\n      ...budget.chapters,\n      [chapterKey]: {\n        ...chapter,\n        items: updatedItems\n      }\n    };\n    \n    setBudget({\n      ...budget,\n      chapters: updatedChapters\n    });\n    \n    recalculateBudget();\n  };\n\n  // Update existing item\n  const updateItem = (chapterKey, itemId, updatedItem) => {\n    const chapter = budget.chapters[chapterKey];\n    const itemIndex = chapter.items.findIndex(item => item.id === itemId);\n    \n    if (itemIndex === -1) return;\n    \n    const updatedItems = [...chapter.items];\n    updatedItems[itemIndex] = {\n      ...updatedItems[itemIndex],\n      ...updatedItem,\n      VALOR: calculateItemValue(updatedItem.QTD, updatedItem.VALOR_UNITARIO)\n    };\n    \n    const updatedChapters = {\n      ...budget.chapters,\n      [chapterKey]: {\n        ...chapter,\n        items: updatedItems\n      }\n    };\n    \n    setBudget({\n      ...budget,\n      chapters: updatedChapters\n    });\n    \n    recalculateBudget();\n  };\n\n  // Delete item\n  const deleteItem = (chapterKey, itemId) => {\n    const chapter = budget.chapters[chapterKey];\n    const updatedItems = chapter.items.filter(item => item.id !== itemId);\n    \n    const updatedChapters = {\n      ...budget.chapters,\n      [chapterKey]: {\n        ...chapter,\n        items: updatedItems\n      }\n    };\n    \n    setBudget({\n      ...budget,\n      chapters: updatedChapters\n    });\n    \n    recalculateBudget();\n  };\n\n  // Add new chapter\n  const addChapter = (chapterKey, header) => {\n    if (budget.chapters[chapterKey]) return false; // Chapter already exists\n    \n    const updatedChapters = {\n      ...budget.chapters,\n      [chapterKey]: {\n        header,\n        items: []\n      }\n    };\n    \n    setBudget({\n      ...budget,\n      chapters: updatedChapters\n    });\n    \n    return true;\n  };\n\n  // Update margin percentage\n  const updateMarginPercentage = (percentage) => {\n    const updatedControleInterno = { ...budget.CONTROLE_INTERNO };\n    updatedControleInterno.VENDA.items[0].Margem_Percentual = percentage;\n    \n    setBudget({\n      ...budget,\n      CONTROLE_INTERNO: updatedControleInterno\n    });\n    \n    recalculateBudget();\n  };\n\n  // Update diverse costs\n  const updateDiverseCosts = (diverseCosts) => {\n    const updatedControleInterno = { ...budget.CONTROLE_INTERNO };\n    updatedControleInterno.DIVERSOS.items[0] = {\n      ...updatedControleInterno.DIVERSOS.items[0],\n      ...diverseCosts\n    };\n    \n    setBudget({\n      ...budget,\n      CONTROLE_INTERNO: updatedControleInterno\n    });\n    \n    recalculateBudget();\n  };\n\n  // Format currency\n  const formatCurrency = (value) => {\n    return new Intl.NumberFormat('pt-PT', {\n      style: 'currency',\n      currency: 'EUR',\n      minimumFractionDigits: 2\n    }).format(value);\n  };\n  \n  // Add new project\n  const addProject = (projectData) => {\n    const projectId = `PROJ-${String(projects.length + 1).padStart(3, '0')}`;\n    const newProject = {\n      id: projectId,\n      name: projectData.name,\n      client: projectData.client,\n      description: projectData.description,\n      type: projectData.type,\n      startDate: projectData.startDate,\n      currency: projectData.currency,\n      active: false,\n      budget: JSON.parse(JSON.stringify(initialBudget)) // Deep copy\n    };\n    \n    // Update all projects (set previous active to false)\n    const updatedProjects = projects.map(project => ({\n      ...project,\n      active: false\n    }));\n    \n    setProjects([...updatedProjects, newProject]);\n    return projectId;\n  };\n  \n  // Set active project\n  const setActiveProjectById = (projectId) => {\n    setActiveProject(projectId);\n    \n    // Update projects active state\n    const updatedProjects = projects.map(project => ({\n      ...project,\n      active: project.id === projectId\n    }));\n    \n    setProjects(updatedProjects);\n    \n    // Set the active project's budget\n    const activeProjectData = projects.find(project => project.id === projectId);\n    if (activeProjectData) {\n      setBudget(activeProjectData.budget);\n    }\n  };\n\n  return (\n    <BudgetContext.Provider\n      value={{\n        // Budget data and operations\n        budget,\n        activeChapter,\n        setActiveChapter,\n        showEditItemModal,\n        setShowEditItemModal,\n        showNewChapterModal,\n        setShowNewChapterModal,\n        currentItem,\n        setCurrentItem,\n        addItem,\n        updateItem,\n        deleteItem,\n        addChapter,\n        calculateChapterTotal,\n        calculateTotalMaterialCost,\n        updateMarginPercentage,\n        updateDiverseCosts,\n        formatCurrency,\n        recalculateBudget,\n        \n        // Project management\n        projects,\n        activeProject,\n        addProject,\n        setActiveProjectById\n      }}\n    >\n      {children}\n    </BudgetContext.Provider>\n  );\n};\n\nexport default BudgetContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}