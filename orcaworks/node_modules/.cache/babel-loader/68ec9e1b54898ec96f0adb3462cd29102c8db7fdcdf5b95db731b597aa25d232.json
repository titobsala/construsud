{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AuthForm=()=>{const[isLogin,setIsLogin]=useState(true);const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[fullName,setFullName]=useState('');const[message,setMessage]=useState(null);const{signIn,signUp,authError}=useAuth();const handleSubmit=async e=>{e.preventDefault();setMessage(null);try{if(isLogin){const{data,error}=await signIn({email,password});if(error){setMessage({type:'error',text:error.message});return;}// Successfully signed in\nsetMessage({type:'success',text:'Signed in successfully!'});}else{if(!fullName){setMessage({type:'error',text:'Please enter your full name'});return;}const{data,error}=await signUp({email,password,fullName});if(error){setMessage({type:'error',text:error.message});return;}setMessage({type:'success',text:'Registration successful! Please check your email for confirmation.'});// Reset form and switch to login\nsetIsLogin(true);}}catch(error){setMessage({type:'error',text:error.message});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-center mb-6 text-gray-800 dark:text-white\",children:isLogin?'Sign In':'Create Account'}),message&&/*#__PURE__*/_jsx(\"div\",{className:`p-3 mb-4 rounded-md ${message.type==='error'?'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400':'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400'}`,children:message.text}),authError&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 mb-4 rounded-md bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400\",children:authError}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[!isLogin&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fullName\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"fullName\",type:\"text\",value:fullName,onChange:e=>setFullName(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsLogin(!isLogin),className:\"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300\",children:isLogin?'Need an account? Sign up':'Already have an account? Sign in'}),isLogin&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300\",children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:isLogin?'Sign In':'Sign Up'})})]})]});};export default AuthForm;","map":{"version":3,"names":["React","useState","useAuth","jsx","_jsx","jsxs","_jsxs","AuthForm","isLogin","setIsLogin","email","setEmail","password","setPassword","fullName","setFullName","message","setMessage","signIn","signUp","authError","handleSubmit","e","preventDefault","data","error","type","text","className","children","onSubmit","htmlFor","id","value","onChange","target","required","onClick"],"sources":["/mnt/c/Users/titob/OneDrive - Ensino LusÃ³fona/EXO/repo-tito/construsud/orcaworks/src/components/auth/AuthForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../../context/AuthContext';\n\nconst AuthForm = () => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [fullName, setFullName] = useState('');\n  const [message, setMessage] = useState(null);\n  \n  const { signIn, signUp, authError } = useAuth();\n  \n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessage(null);\n    \n    try {\n      if (isLogin) {\n        const { data, error } = await signIn({ email, password });\n        \n        if (error) {\n          setMessage({ type: 'error', text: error.message });\n          return;\n        }\n        \n        // Successfully signed in\n        setMessage({ type: 'success', text: 'Signed in successfully!' });\n      } else {\n        if (!fullName) {\n          setMessage({ type: 'error', text: 'Please enter your full name' });\n          return;\n        }\n        \n        const { data, error } = await signUp({ email, password, fullName });\n        \n        if (error) {\n          setMessage({ type: 'error', text: error.message });\n          return;\n        }\n        \n        setMessage({ \n          type: 'success', \n          text: 'Registration successful! Please check your email for confirmation.'\n        });\n        \n        // Reset form and switch to login\n        setIsLogin(true);\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: error.message });\n    }\n  };\n  \n  return (\n    <div className=\"max-w-md w-full mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md\">\n      <h2 className=\"text-2xl font-bold text-center mb-6 text-gray-800 dark:text-white\">\n        {isLogin ? 'Sign In' : 'Create Account'}\n      </h2>\n      \n      {message && (\n        <div className={`p-3 mb-4 rounded-md ${\n          message.type === 'error' \n            ? 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400' \n            : 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400'\n        }`}>\n          {message.text}\n        </div>\n      )}\n      \n      {authError && (\n        <div className=\"p-3 mb-4 rounded-md bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400\">\n          {authError}\n        </div>\n      )}\n      \n      <form onSubmit={handleSubmit}>\n        {!isLogin && (\n          <div className=\"mb-4\">\n            <label \n              htmlFor=\"fullName\" \n              className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\"\n            >\n              Full Name\n            </label>\n            <input\n              id=\"fullName\"\n              type=\"text\"\n              value={fullName}\n              onChange={(e) => setFullName(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\n              required\n            />\n          </div>\n        )}\n        \n        <div className=\"mb-4\">\n          <label \n            htmlFor=\"email\" \n            className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\"\n          >\n            Email\n          </label>\n          <input\n            id=\"email\"\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\n            required\n          />\n        </div>\n        \n        <div className=\"mb-6\">\n          <label \n            htmlFor=\"password\" \n            className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\"\n          >\n            Password\n          </label>\n          <input\n            id=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\n            required\n          />\n        </div>\n        \n        <div className=\"flex items-center justify-between mb-6\">\n          <button\n            type=\"button\"\n            onClick={() => setIsLogin(!isLogin)}\n            className=\"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300\"\n          >\n            {isLogin ? 'Need an account? Sign up' : 'Already have an account? Sign in'}\n          </button>\n          \n          {isLogin && (\n            <button\n              type=\"button\"\n              className=\"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300\"\n            >\n              Forgot password?\n            </button>\n          )}\n        </div>\n        \n        <div>\n          <button\n            type=\"submit\"\n            className=\"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          >\n            {isLogin ? 'Sign In' : 'Sign Up'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default AuthForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}