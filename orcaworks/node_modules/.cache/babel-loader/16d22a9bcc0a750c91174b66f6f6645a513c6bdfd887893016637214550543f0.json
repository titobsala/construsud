{"ast":null,"code":"import React from'react';import{useBudget}from'../../context/BudgetContext';import ItemList from'./ItemList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChapterItem=_ref=>{let{chapterKey,chapter}=_ref;const{activeChapter,setActiveChapter,calculateChapterTotal,formatCurrency,setShowEditItemModal,setCurrentItem}=useBudget();const isActive=activeChapter===chapterKey;const total=calculateChapterTotal(chapterKey);const handleAddItem=()=>{setCurrentItem({chapterKey,item:{MATERIAL:'',UNIDADE:'',QTD:0,VALOR_UNITARIO:0,VALOR:0},isNew:true});setShowEditItemModal(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700 shadow-sm bg-white dark:bg-gray-800 transition-all duration-200 hover:shadow-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`flex justify-between items-center py-4 px-5 cursor-pointer ${isActive?'bg-indigo-50 dark:bg-indigo-900/20 border-l-4 border-indigo-500 dark:border-indigo-400':'bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-750 border-l-4 border-transparent'}`,onClick:()=>setActiveChapter(chapterKey),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:`p-2 rounded-lg ${isActive?'bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300':'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300'}`,children:chapterKey}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-800 dark:text-gray-200\",children:chapter.header})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:`font-medium ${isActive?'text-indigo-600 dark:text-indigo-400':'text-gray-700 dark:text-gray-300'}`,children:formatCurrency(total)}),/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:`h-5 w-5 text-gray-400 transition-transform ${isActive?'transform rotate-180':''}`,fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]})]}),isActive&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 p-5 border-t border-gray-100 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(ItemList,{chapterKey:chapterKey,items:chapter.items}),/*#__PURE__*/_jsxs(\"button\",{className:\"mt-4 w-full py-3 px-4 border border-dashed border-indigo-300 dark:border-indigo-600 rounded-lg text-center text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors cursor-pointer flex items-center justify-center space-x-1\",onClick:handleAddItem,children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Adicionar Item\"})]})]})]});};export default ChapterItem;","map":{"version":3,"names":["React","useBudget","ItemList","jsx","_jsx","jsxs","_jsxs","ChapterItem","_ref","chapterKey","chapter","activeChapter","setActiveChapter","calculateChapterTotal","formatCurrency","setShowEditItemModal","setCurrentItem","isActive","total","handleAddItem","item","MATERIAL","UNIDADE","QTD","VALOR_UNITARIO","VALOR","isNew","className","children","onClick","header","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","items","fillRule","clipRule"],"sources":["/mnt/c/Users/titob/OneDrive - Ensino LusÃ³fona/EXO/repo-tito/construsud/orcaworks/src/components/budget/ChapterItem.js"],"sourcesContent":["import React from 'react';\nimport { useBudget } from '../../context/BudgetContext';\nimport ItemList from './ItemList';\n\nconst ChapterItem = ({ chapterKey, chapter }) => {\n  const { \n    activeChapter, \n    setActiveChapter, \n    calculateChapterTotal,\n    formatCurrency,\n    setShowEditItemModal,\n    setCurrentItem\n  } = useBudget();\n  \n  const isActive = activeChapter === chapterKey;\n  const total = calculateChapterTotal(chapterKey);\n  \n  const handleAddItem = () => {\n    setCurrentItem({\n      chapterKey,\n      item: {\n        MATERIAL: '',\n        UNIDADE: '',\n        QTD: 0,\n        VALOR_UNITARIO: 0,\n        VALOR: 0\n      },\n      isNew: true\n    });\n    setShowEditItemModal(true);\n  };\n\n  return (\n    <div className=\"rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700 shadow-sm bg-white dark:bg-gray-800 transition-all duration-200 hover:shadow-md\">\n      <div \n        className={`flex justify-between items-center py-4 px-5 cursor-pointer ${\n          isActive \n            ? 'bg-indigo-50 dark:bg-indigo-900/20 border-l-4 border-indigo-500 dark:border-indigo-400' \n            : 'bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-750 border-l-4 border-transparent'\n        }`}\n        onClick={() => setActiveChapter(chapterKey)}\n      >\n        <div className=\"flex items-center space-x-3\">\n          <div className={`p-2 rounded-lg ${isActive ? 'bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300' : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300'}`}>\n            {chapterKey}\n          </div>\n          <h3 className=\"font-medium text-gray-800 dark:text-gray-200\">{chapter.header}</h3>\n        </div>\n        <div className=\"flex items-center space-x-4\">\n          <span className={`font-medium ${isActive ? 'text-indigo-600 dark:text-indigo-400' : 'text-gray-700 dark:text-gray-300'}`}>\n            {formatCurrency(total)}\n          </span>\n          <svg \n            xmlns=\"http://www.w3.org/2000/svg\" \n            className={`h-5 w-5 text-gray-400 transition-transform ${isActive ? 'transform rotate-180' : ''}`} \n            fill=\"none\" \n            viewBox=\"0 0 24 24\" \n            stroke=\"currentColor\"\n          >\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n          </svg>\n        </div>\n      </div>\n      \n      {isActive && (\n        <div className=\"bg-white dark:bg-gray-800 p-5 border-t border-gray-100 dark:border-gray-700\">\n          <ItemList \n            chapterKey={chapterKey} \n            items={chapter.items} \n          />\n          \n          <button\n            className=\"mt-4 w-full py-3 px-4 border border-dashed border-indigo-300 dark:border-indigo-600 rounded-lg text-center text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors cursor-pointer flex items-center justify-center space-x-1\"\n            onClick={handleAddItem}\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\" clipRule=\"evenodd\" />\n            </svg>\n            <span>Adicionar Item</span>\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChapterItem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}